{"version":3,"sources":["../src/VStripeInput.ts"],"names":[],"mappings":"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","sourcesContent":["// Types\nimport Vue, { VNode } from 'vue'\n\n// Styles\nimport './VStripeInput.sass'\n\n// Extensions and Components\nimport { VProgressLinear, VTextField } from 'vuetify/lib'\n\n// Mixins\n// import mixins from 'vuetify/lib/util/mixins'\n// const base = mixins(VTextField)\n\n// Extend `base` to define the VStripeInput component\n// export default base.extend<ComponentOptions<VTextField>>({\nexport default Vue.extend({\n  name: 'v-stripe-input',\n  extends: VTextField,\n  inheritAttrs: true,\n  props: {\n    apiKey: {\n      type: String,\n      required: true,\n    },\n    font: {\n      type: String,\n      default: 'Roboto',\n    },\n    hideIcon: Boolean,\n    hidePostalCode: Boolean,\n    iconStyle: {\n      type: String,\n      default: 'default',\n    },\n    nameAndAddress: {\n      type: Object,\n      default: () => ({\n        name: '',\n        address_line1: '',\n        address_line2: '',\n        address_city: '',\n        address_state: '',\n        address_zip: '',\n        address_country: '',\n      }),\n    },\n    zip: {\n      type: String,\n      default: '',\n    },\n    /**\n     * Props duplicated from VTextField to get rid of\n     *\n     */\n  },\n  data: (): any => ({\n    card: null,\n    cardError: null,\n    elements: null,\n    isReady: false,\n    okToSubmit: false,\n    stripe: null,\n  }),\n  computed: {\n    classes (): object {\n      return {\n        ...VTextField.options.computed.classes.call(this),\n        'v-stripe-input': true,\n      }\n    },\n  },\n  watch: {\n    isDark (newVal: boolean, oldVal: boolean) {\n      if (newVal !== oldVal && this.card !== null) {\n        const style = this.genStyle(this.font, this.$vuetify.theme.currentTheme, this.$vuetify.theme.dark)\n        this.card.update({ style })\n      }\n    },\n    isDisabled (disabled: boolean, oldVal: boolean) {\n      if (disabled !== oldVal) {\n        this.card.update({ disabled })\n      }\n    },\n  },\n  mounted () {\n    // Handle tasks NOT related to actual DOM rendering or manipulation\n    const cardProps = {\n      classes: { focus: 'focus', empty: 'empty' },\n      disabled: this.disabled,\n      hideIcon: this.hideIcon,\n      hidePostalCode: this.hidePostalCode,\n      iconStyle: this.iconStyle,\n      style: this.genStyle(this.font, this.$vuetify.theme.currentTheme, this.$vuetify.theme.dark),\n      value: {\n        postalCode: this.zip,\n      },\n    }\n    this.loadStripe()\n      // initialize the Stripe.js object\n      .then(() => { this.stripe = Stripe(this.apiKey) }) // eslint-disable-line no-undef\n      // then create a Stripe elements generator\n      .then(() => this.stripe.elements(this.genFont(this.font)))\n      // then create a card element\n      .then((elements: stripe.elements.Elements) => elements.create('card', cardProps))\n      // then setup card events and mount the card\n      .then((card: stripe.elements.Element) => {\n        this.card = card\n        card.on('blur', this.onCardBlur)\n        card.on('change', this.onCardChange)\n        card.on('focus', this.onCardFocus)\n        card.on('ready', this.onCardReady)\n        card.mount(`#${this.computedId}`)\n      })\n      .catch((err: Error) => { console.log(err) })\n  },\n  methods: {\n    clearableCallback () {\n      this.card.clear()\n      VTextField.options.methods.clearableCallback.call(this)\n    },\n    /**\n     * Converts the collected payment information into a single-use token\n     * that can safely be passed to your backend API server where a\n     * payment request can be processed.\n     * See {@link|https://stripe.com/docs/stripe-js/reference#stripe-create-token}\n     */\n    async createToken () {\n      const { token, error } = await this.stripe.createToken(\n        this.card,\n        this.nameAndAddress\n      )\n      if (!error) {\n        // do something\n      }\n    },\n    /**\n     * TODO: Should this throw an error if the font is invalid?\n     * Allows users of the component to specify the font that will be used\n     * inside the text fields generated by Stripe. Does NOT affect the font\n     * used by the label, hint, or error messages. These fonts can/should be\n     * set at the app level along with all of the other UI fonts.\n     *\n     * @param   {string} font The name of a Google font, or a URL to a valid font\n     * @returns {object}      An object in the form required by `Stripe.elements()`\n     */\n    genFont (font: string): object {\n      const cssSrc = this.isURL(font)\n        ? font\n        : `https://fonts.googleapis.com/css?family=${encodeURI(font)}:400`\n      return { fonts: [{ cssSrc }] }\n    },\n    /**\n     * Generates the HTML element to which the Stripe element will attach\n     * itself. All that is needed is a <div> with a known ID. This <div>\n     * gets replaced by Stripe with an IFrame with their custom inputs.\n     * see: {@link|https://stripe.com/docs/stripe-js/reference#element-mount}\n     */\n    genInput (): VNode {\n      return this.$createElement('div', { attrs: { id: this.computedId } })\n    },\n    /**\n     * Maintains the ability for users of the component to control the\n     * loading/progress indicator of the component, but also shows the\n     * progress bar while the Stripe library is being loaded.\n     */\n    genProgress (): VNode | VNode[] | null {\n      if (this.loading === false && this.isReady) return null\n      return this.$slots.progress || this.$createElement(VProgressLinear, {\n        props: {\n          absolute: true,\n          color: (this.loading === true || this.loading === '')\n            ? (this.color || 'primary')\n            : (this.loading || 'primary'),\n          height: this.loaderHeight,\n          indeterminate: true,\n        },\n      })\n    },\n    /**\n     * Generate styles for Stripe elements\n     */\n    genStyle: (font: string, theme: VuetifyThemeVariant, dark = false): object => ({\n      base: {\n        color: dark ? '#ffffff' : '#000000',\n        fontFamily: `'${font}', sans-serif`,\n        fontSize: '16px',\n        fontSmoothing: 'antialiased',\n        iconColor: dark ? '#eceff1' : '#455a64',\n        '::placeholder': {\n          color: dark ? 'rgb(255,255,255,0.7)' : 'rgb(0,0,0,0.54)',\n        },\n        ':focus::placeholder': {\n          color: dark ? 'rgb(255,255,255,0.7)' : 'rgb(0,0,0,0.54)',\n        },\n      },\n      invalid: {\n        color: theme.error,\n        iconColor: theme.error,\n      },\n    }),\n    /**\n     * Loosely validates a URL\n     * Based on: {@link|https://github.com/segmentio/is-url}\n     *\n     * @param   {string}  url The string to be tested\n     * @returns {boolean}     True if the url string passes the test\n     */\n    isURL: (url: string): boolean => {\n      const protocolAndDomainRegex = /^(?:\\w+:)?\\/\\/(\\S+)$/\n      const localhostDomainRegex = /^localhost[:?\\d]*(?:[^:?\\d]\\S*)?$/\n      const nonLocalhostDomainRegex = /^[^\\s.]+\\.\\S{2,}$/\n      if (typeof url !== 'string') return false\n      const match = url.match(protocolAndDomainRegex)\n      if (!match) return false\n      const everythingAfterProtocol = match[1]\n      if (!everythingAfterProtocol) return false\n      if (\n        localhostDomainRegex.test(everythingAfterProtocol) ||\n        nonLocalhostDomainRegex.test(everythingAfterProtocol)\n      ) {\n        return true\n      }\n      return false\n    },\n    loadStripe (): Promise<boolean> {\n      // is Stripe already available?\n      if (typeof Stripe !== 'undefined') return Promise.resolve(true)\n      // is the external script loader available?\n      if (typeof this.$loadScript === 'undefined') {\n        // no\n        throw new Error('[VStripeInput Error]: Stripe is not available and could not be loaded. Please make sure that you have installed and configured all of the necessary dependencies to use this component.')\n      } else {\n        // yes, let's try to get Stripe\n        return this.$loadScript('https://js.stripe.com/v3/')\n          .then(() => true)\n          .catch((err: Error) => {\n            throw new Error('[VStripeInput Error] There was a problem loading Stripe: ' + err.message)\n          })\n      }\n    },\n    onCardBlur (e: stripe.elements.ElementChangeResponse) {\n      this.isFocused = false\n      this.$emit('blur', e)\n    },\n    onCardChange (e: stripe.elements.ElementChangeResponse) {\n      if (e.error) {\n        // handle card errors\n        this.errorBucket.push(e.error.message)\n      }\n      if (e.complete) {\n        // handle card input is complete\n        this.errorBucket = []\n      }\n      if (e.empty) {\n        this.lazyValue = !e.empty\n      }\n    },\n    onCardFocus (e: stripe.elements.ElementChangeResponse) {\n      this.isFocused = true\n      this.$emit('focus', true) // Do we want to emit? Is this the right value to emit?\n    },\n    onCardReady (e: stripe.elements.ElementChangeResponse) {\n      this.isReady = true\n      this.autofocus && this.card.focus()\n      this.$emit('ready', e)\n    },\n    setLabelWidth () {\n      if (!this.outlined) return\n      this.labelWidth = this.$refs.label.offsetWidth * 0.75 + 6\n    },\n    async verifyCardInfo () {\n      // bail if we're not ready yet\n      if (!this.okToSubmit) return\n\n      // otherwise, submit info to Stripe\n      const { source, error } = await this.stripe.createSource(this.card, {\n        currency: 'usd',\n        metadata: this.meta,\n        owner: this.owner,\n        usage: 'reusable',\n      })\n      // if there was a problem\n      if (error) {\n        // do something\n        console.log(error)\n      } else {\n        // payment method verified successfully\n        this.$emit('cardVerified', source)\n      }\n    },\n  },\n})\n"],"sourceRoot":"","file":"VStripeInput.js"}