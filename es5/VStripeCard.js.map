{"version":3,"sources":["../src/VStripeCard.ts"],"names":[],"mappings":"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","sourcesContent":["// Imported Types\n/// <reference path=\"../node_modules/vuetify/src/globals.d.ts\" /> // imported for the extend() overload\nimport Vue, { VNode } from 'vue'\nimport { VuetifyThemeVariant } from 'vuetify/types/services/theme'\n// import { VuetifyObject } from 'vuetify/types' // !this causes type errors if imported\n\n// Styles\nimport './VStripeCard.sass'\n\n// Extensions and Components\n// @ts-ignore\nimport { VProgressLinear, VTextField } from 'vuetify/lib'\n\n// Create Base Mixins and Define Custom Properties\nconst base = Vue.extend({ mixins: [VTextField] })\ninterface options extends InstanceType<typeof base> {\n  /**\n   * Props unique to VStripeCard\n   */\n  $loadScript: (url: string) => Promise<boolean>\n  onCardBlur: stripe.elements.handler\n  onCardChange: stripe.elements.handler\n  onCardFocus: stripe.elements.handler\n  onCardReady: stripe.elements.handler\n  /**\n   * Props that **should** have been inherited from VTextField\n   * TODO: Figure out why these types aren't being recognized automatically\n   */\n  autofocus: boolean\n  color: string|null\n  computedId: string\n  disabled: boolean\n  errorBucket: string[]\n  iconStyle: 'default'|'solid'\n  isFocused: boolean\n  labelWidth: number|string\n  lazyValue: any\n  loaderHeight: number|string\n  loading: string|boolean\n  outlined: boolean\n  $vuetify: any // VuetifyObject // importing this type from Vuetify causes errors for some reason\n}\n\n// Extend VTextField to define the VStripeCard component\nexport default base.extend<options>().extend({\n  name: 'v-stripe-card',\n  props: {\n    apiKey: {\n      type: String,\n      required: true,\n    },\n    font: {\n      type: String,\n      default: 'Roboto',\n    },\n    hideIcon: Boolean,\n    hidePostalCode: Boolean,\n    iconStyle: {\n      type: String,\n      default: 'default',\n    },\n    tokenOptions: {\n      type: Object,\n      default: () => ({\n        name: '',\n        address_line1: '',\n        address_line2: '',\n        address_city: '',\n        address_state: '',\n        address_zip: '',\n        address_country: '',\n      }),\n    },\n    zip: {\n      type: String,\n      default: '',\n    },\n  },\n  data: () => ({\n    card: null as stripe.elements.Element | null,\n    elements: null as stripe.elements.Elements | null,\n    isReady: false,\n    okToSubmit: false,\n    stripe: null as stripe.Stripe | null,\n  }),\n  computed: {\n    classes (): object {\n      return {\n        ...VTextField.options.computed.classes.call(this),\n        'v-stripe-card': true,\n      }\n    },\n  },\n  watch: {\n    isDark (val: boolean, oldVal: boolean) {\n      // if the theme changes and a card has already been initialized\n      if (val !== oldVal && this.card !== null) {\n        // generate styles to match the theme\n        const style = this.genStyle(\n          this.font,\n          this.$vuetify.theme.currentTheme,\n          this.$vuetify.theme.dark\n        )\n        // then update the card\n        this.card.update({ style })\n      }\n    },\n    isDisabled (val: boolean, oldVal: boolean) {\n      // if the disabled status changes and the card has already been initialized\n      if (val !== oldVal && this.card !== null) {\n        // update its disabled status\n        this.card.update({ disabled: val })\n      }\n    },\n  },\n  mounted () {\n    // Handle tasks NOT related to actual DOM rendering or manipulation\n    const cardProps: stripe.elements.ElementsOptions = {\n      classes: {\n        base: 'VStripeCard',\n        complete: 'VStripeCard--complete',\n        empty: 'VStripeCard--empty',\n        focus: 'VStripeCard--focus',\n        invalid: 'VStripeCard--invalid',\n        webkitAutofill: 'VStripeCard--webkit-autofill',\n      },\n      disabled: this.disabled,\n      hideIcon: this.hideIcon,\n      hidePostalCode: this.hidePostalCode,\n      iconStyle: this.iconStyle,\n      style: this.genStyle(this.font, this.$vuetify.theme.currentTheme, this.$vuetify.theme.dark),\n    }\n    this.zip && (cardProps.value = { postalCode: this.zip })\n    this.loadStripe()\n      // initialize the Stripe.js object\n      .then(() => { this.stripe = Stripe(this.apiKey) }) // eslint-disable-line no-undef\n      // then create a Stripe elements generator\n      .then(() => { this.elements = this.stripe && this.stripe.elements(this.genFont(this.font)) })\n      // then create a card element, setup card events, and mount the card\n      .then(() => {\n        this.card = this.elements && this.elements.create('card', cardProps)\n        if (this.card !== null) {\n          this.card.on('blur', this.onCardBlur)\n          this.card.on('change', this.onCardChange)\n          this.card.on('focus', this.onCardFocus)\n          this.card.on('ready', this.onCardReady)\n          this.card.mount(`#${this.computedId}`)\n        }\n      })\n      .catch((err: Error) => { console.log(err) })\n  },\n  methods: {\n    clearableCallback () {\n      this.card !== null && this.card.clear()\n      VTextField.options.methods.clearableCallback.call(this)\n    },\n    /**\n     * Converts the collected payment information into a single-use token\n     * that can safely be passed to your backend API server where a\n     * payment request can be processed.\n     * See {@link|https://stripe.com/docs/stripe-js/reference#stripe-create-token}\n     */\n    async createToken () {\n      if (this.stripe === null || this.card === null) return\n      const { token, error } = await this.stripe.createToken(\n        this.card,\n        this.tokenOptions\n      )\n      if (!error) {\n        // do something\n      } else {\n        this.$emit('input', token)\n      }\n    },\n    /**\n     * TODO: Should this throw an error if the font is invalid?\n     * Allows users of the component to specify the font that will be used\n     * inside the text fields generated by Stripe. Does NOT affect the font\n     * used by the label, hint, or error messages. These fonts can/should be\n     * set at the app level along with all of the other UI fonts.\n     *\n     * @param   {string} font The name of a Google font, or a URL to a valid font\n     * @returns {object}      An object in the form required by `Stripe.elements()`\n     */\n    genFont (font: string): stripe.elements.ElementsCreateOptions {\n      const cssSrc = this.isURL(font)\n        ? font\n        : `https://fonts.googleapis.com/css?family=${encodeURI(font)}:400`\n      return { fonts: [{ cssSrc }] }\n    },\n    /**\n     * Generates the HTML element to which the Stripe element will attach\n     * itself. All that is needed is a <div> with a known ID. This <div>\n     * gets replaced by Stripe with an IFrame with their custom inputs.\n     * see: {@link|https://stripe.com/docs/stripe-js/reference#element-mount}\n     */\n    genInput (): VNode {\n      return this.$createElement('div', { attrs: { id: this.computedId } })\n    },\n    /**\n     * Maintains the ability for users of the component to control the\n     * loading/progress indicator of the component, but also shows the\n     * progress bar while the Stripe library is being loaded.\n     */\n    genProgress (): VNode | VNode[] | null {\n      if (this.loading === false && this.isReady) return null\n      return this.$slots.progress || this.$createElement(VProgressLinear, {\n        props: {\n          absolute: true,\n          color: (this.loading === true || this.loading === '')\n            ? (this.color || 'primary')\n            : (this.loading || 'primary'),\n          height: this.loaderHeight,\n          indeterminate: true,\n        },\n      })\n    },\n    /**\n     * Generate styles for Stripe elements\n     *\n     * @param   {string} font\n     */\n    genStyle: (font: string, theme: VuetifyThemeVariant, dark = false): object => ({\n      base: {\n        color: dark ? '#ffffff' : '#000000',\n        fontFamily: `'${font}', sans-serif`,\n        fontSize: '16px',\n        fontSmoothing: 'antialiased',\n        iconColor: dark ? '#eceff1' : '#455a64',\n        '::placeholder': {\n          color: dark ? 'rgb(255,255,255,0.7)' : 'rgb(0,0,0,0.54)',\n        },\n        ':focus::placeholder': {\n          color: dark ? 'rgb(255,255,255,0.7)' : 'rgb(0,0,0,0.54)',\n        },\n      },\n      invalid: {\n        color: theme.error,\n        iconColor: theme.error,\n      },\n    }),\n    /**\n     * Loosely validates a URL\n     * Based on: {@link|https://github.com/segmentio/is-url}\n     *\n     * @param   {string}  url The string to be tested\n     * @returns {boolean}     True if the url string passes the test\n     */\n    isURL: (url: string): boolean => {\n      const protocolAndDomainRegex = /^(?:\\w+:)?\\/\\/(\\S+)$/\n      const localhostDomainRegex = /^localhost[:?\\d]*(?:[^:?\\d]\\S*)?$/\n      const nonLocalhostDomainRegex = /^[^\\s.]+\\.\\S{2,}$/\n      if (typeof url !== 'string') return false\n      const match = url.match(protocolAndDomainRegex)\n      if (!match) return false\n      const everythingAfterProtocol = match[1]\n      if (!everythingAfterProtocol) return false\n      if (\n        localhostDomainRegex.test(everythingAfterProtocol) ||\n        nonLocalhostDomainRegex.test(everythingAfterProtocol)\n      ) {\n        return true\n      }\n      return false\n    },\n    loadStripe (): Promise<boolean> {\n      // is Stripe already available?\n      if (typeof Stripe !== 'undefined') return Promise.resolve(true)\n      // is the external script loader available?\n      if (typeof this.$loadScript === 'undefined') {\n        // no\n        throw new Error('[VStripeCard Error]: Stripe is not available and could not be loaded. Please make sure that you have installed and configured all of the necessary dependencies to use this component.')\n      } else {\n        // yes, let's try to get Stripe\n        return this.$loadScript('https://js.stripe.com/v3/')\n          .then(() => true)\n          .catch((err: Error) => {\n            throw new Error('[VStripeCard Error] There was a problem loading Stripe: ' + err.message)\n          })\n      }\n    },\n    onCardBlur (e: stripe.elements.ElementChangeResponse) {\n      this.isFocused = false\n      this.$emit('blur', e)\n    },\n    onCardChange (e: stripe.elements.ElementChangeResponse) {\n      if (e.error) {\n        // handle card errors\n        e.error.message && this.errorBucket.push(e.error.message)\n      }\n      if (e.complete) {\n        // handle card input is complete\n        this.errorBucket = []\n      }\n      if (e.empty) {\n        this.lazyValue = !e.empty\n      }\n    },\n    onCardFocus (e: stripe.elements.ElementChangeResponse) {\n      this.isFocused = true\n      this.$emit('focus', true) // Do we want to emit? Is this the right value to emit?\n    },\n    onCardReady (e: stripe.elements.ElementChangeResponse) {\n      this.isReady = true\n      this.autofocus && this.card !== null && this.card.focus()\n      this.$emit('ready', e)\n    },\n    setLabelWidth () {\n      if (!this.outlined) return\n      this.labelWidth = (this.$refs.label as HTMLElement).offsetWidth * 0.75 + 6\n    },\n    async verifyCardInfo () {\n      // // bail if we're not ready yet\n      // if (!this.okToSubmit) return\n\n      // // otherwise, submit info to Stripe\n      // const { source, error } = await this.stripe.createSource(this.card, {\n      //   currency: 'usd',\n      //   metadata: this.meta,\n      //   owner: this.owner,\n      //   usage: 'reusable',\n      // })\n      // // if there was a problem\n      // if (error) {\n      //   // do something\n      //   console.log(error)\n      // } else {\n      //   // payment method verified successfully\n      //   this.$emit('cardVerified', source)\n      // }\n    },\n  },\n}\n//  as ComponentOptions<\n//   Vue,\n//   DefaultData<Vue>,\n//   DefaultMethods<Vue>,\n//   DefaultComputed,\n//   PropsDefinition<Record<string, any>>,\n//   Record<string, any>\n// >\n)\n"],"sourceRoot":"","file":"VStripeCard.js"}